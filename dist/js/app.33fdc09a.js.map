{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?ae40","webpack:///./src/components/Lab0.vue?5470","webpack:///./src/Utils/Files.ts","webpack:///./src/Utils/Rng.ts","webpack:///./src/components/Lab0.vue","webpack:///./src/components/Lab0.vue?c2f5","webpack:///./src/components/Lab0.vue?4976","webpack:///./src/components/Lab1.vue?598a","webpack:///./src/Utils/Vector2.ts","webpack:///./src/components/Lab1.vue","webpack:///./src/components/Lab1.vue?6cb9","webpack:///./src/components/Lab1.vue?c2cd","webpack:///./src/App.vue","webpack:///./src/App.vue?0ab4","webpack:///./src/App.vue?bff9","webpack:///./src/main.ts","webpack:///./src/components/Lab0.vue?bfc3","webpack:///./src/components/Lab1.vue?ccd8"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticRenderFns","_v","_s","currentCanvasWidth","currentCanvasHeight","model","callback","$$v","newCanvasHeight","expression","newCanvasWidth","on","resizeCanvas","imgFile","drawImage","saveImage","invertColors","drawRandomLine","canvasId","saveBlobAsFile","blob","link","document","createElement","download","href","URL","createObjectURL","click","revokeObjectURL","getRandomInt","min","max","rand","Math","random","round","getRandomIntVector","resultVector","Array","newSizeChanged","getElementById","console","log","imageName","size","image","Image","src","onload","canvas","context","getContext","width","height","fillStyle","fillRect","toBlob","Height","Width","Number","parseInt","imageData","getImageData","putImageData","lineCount","x","y","beginPath","moveTo","lineTo","stroke","gradient","createRadialGradient","addColorStop","component","backgroundImageFile","points","deletePoints","addPoint","sqrt","otherVector","multiplier","divider","Vector2","backgroundImage","imageIsLoaded","newFile","Name","Size","newImage","redraw","drawBackground","point","drawPoint","drawSpline","radius","color","strokeStyle","arc","PI","closePath","anchorPoints","calculateAnchorPoints","context2D","bezierCurveTo","ev","domRect","getBoundingClientRect","clientX","left","clientY","top","lastCenterA","copy","add","divide","lastLength","subtract","centerA","bv","multiply","parseFloat","scaleX","scaleY","components","Lab1","Lab0","config","productionTip","use","render","h","$mount"],"mappings":"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","file":"js/app.33fdc09a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vh-100\",attrs:{\"id\":\"app\"}},[_c('b-tabs',{staticClass:\"full-height-tabs\",attrs:{\"pills\":\"\",\"card\":\"\",\"nav-wrapper-class\":\"bg-dark rounded-0\"}},[_c('b-tab',{staticClass:\"p-0\",attrs:{\"title\":\"Лаб 0\",\"active\":\"\",\"title-link-class\":\"text-white\"}},[_c('lab0')],1),_c('b-tab',{staticClass:\"p-0\",attrs:{\"title\":\"Лаб 1\",\"title-link-class\":\"text-white\"}},[_c('lab1')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"h-100\",attrs:{\"fluid\":\"\"}},[_c('b-row',{staticClass:\"h-100\"},[_c('b-col',{staticClass:\"h-100 p-3\"},[_c('h6',[_vm._v(\"Current canvas size is \"+_vm._s(_vm.currentCanvasWidth)+\"X\"+_vm._s(_vm.currentCanvasHeight)+\"px\")]),_c('b-form-group',[_c('b-input-group',{attrs:{\"prepend\":\"Height\",\"append\":\"px\",\"size\":\"sm\"}},[_c('b-form-input',{attrs:{\"type\":\"number\",\"min\":\"0\",\"step\":\"1\"},model:{value:(_vm.newCanvasHeight),callback:function ($$v) {_vm.newCanvasHeight=$$v},expression:\"newCanvasHeight\"}})],1)],1),_c('b-form-group',[_c('b-input-group',{attrs:{\"prepend\":\"Width\",\"append\":\"px\",\"size\":\"sm\"}},[_c('b-form-input',{attrs:{\"type\":\"number\",\"min\":\"0\",\"step\":\"1\"},model:{value:(_vm.newCanvasWidth),callback:function ($$v) {_vm.newCanvasWidth=$$v},expression:\"newCanvasWidth\"}})],1)],1),_c('b-form-group',[_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":_vm.resizeCanvas}},[_vm._v(\"Resize canvas\")])],1),_c('b-form-group',[_c('b-form-file',{attrs:{\"accept\":\"image/jpeg, image/png\",\"size\":\"sm\"},model:{value:(_vm.imgFile),callback:function ($$v) {_vm.imgFile=$$v},expression:\"imgFile\"}})],1),_c('b-form-group',[_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":_vm.drawImage}},[_vm._v(\"Draw image\")])],1),_c('b-form-group',[_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":_vm.saveImage}},[_vm._v(\"Save image\")])],1),_c('b-form-group',[_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":_vm.invertColors}},[_vm._v(\"Invert colors\")])],1),_c('b-form-group',[_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":_vm.drawRandomLine}},[_vm._v(\"Draw random line\")])],1)],1),_c('b-col',{staticClass:\"h-100 bg-secondary canvas-container\",attrs:{\"cols\":\"9\"}},[_c('canvas',{attrs:{\"id\":_vm.canvasId}})])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\r\n * Сохранить файл в файловую систему\r\n * @param blob объект, который будет сохранён\r\n * @param name имя файла, под которым будет предложено сохранить файл\r\n */\r\nexport function saveBlobAsFile(blob: Blob, name: string) : void {\r\n    const link = document.createElement('a');\r\n    link.download = name;\r\n\r\n    link.href = URL.createObjectURL(blob);\r\n    link.click();\r\n    URL.revokeObjectURL(link.href);\r\n}","/**\r\n * Сгенерировать случайное целое число из множества [min, max]\r\n * @param min минимальное значение\r\n * @param max максимальное значение\r\n */\r\nexport function getRandomInt(min: number, max: number): number {\r\n    const rand = min - 0.5 + Math.random() * (max - min + 1);\r\n    return Math.round(rand);\r\n}\r\n\r\n/**\r\n * Сгенерировать случайный целочисленный вектор\r\n * @param n количество измерений\r\n * @param min массив минимальных значений\r\n * @param max мвссив максимальных значений\r\n */\r\nexport function getRandomIntVector(n: number, min: number[], max: number[]) : number[] {\r\n    const resultVector = new Array<number>(n);\r\n    for (let i = 0; i < n; i++) {\r\n        resultVector[i] = getRandomInt(min[i], max[i]);\r\n    }\r\n    return resultVector;\r\n}","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport {Component, Vue, Watch} from \"vue-property-decorator\";\r\nimport {saveBlobAsFile} from \"@/Utils/Files\";\r\nimport {getRandomInt, getRandomIntVector} from \"@/Utils/Rng\";\r\n\r\n@Component\r\nexport default class Lab0 extends Vue {\r\n    public readonly canvasId = \"lab0-canvas\";\r\n    public get canvas() : HTMLCanvasElement {\r\n        return document.getElementById(this.canvasId)! as HTMLCanvasElement;\r\n    }\r\n\r\n    //#region Image\r\n    public imgFile: File|null = null;\r\n\r\n    drawImage() : void {\r\n        if(!this.imgFile) return;\r\n\r\n        console.log('drawImage', {\r\n            imageName: this.imgFile.name,\r\n            size: this.imgFile.size\r\n        })\r\n\r\n        let image = new Image;\r\n        image.src = URL.createObjectURL(this.imgFile);\r\n        image.onload = () => {\r\n            let canvas = this.canvas;\r\n            let context = canvas.getContext('2d')!;\r\n\r\n            this.newCanvasWidth = this.currentCanvasWidth = canvas.width = image.width;\r\n            this.newCanvasHeight = this.currentCanvasHeight = canvas.height = image.height;\r\n            this.newSizeChanged = false;\r\n\r\n            context.fillStyle = \"white\";\r\n            context.fillRect(0, 0, image.width, image.height);\r\n            context.drawImage(image, 0, 0);\r\n\r\n            URL.revokeObjectURL(image.src);\r\n        }\r\n    }\r\n\r\n    saveImage() : void {\r\n        console.log('saveImage');\r\n\r\n        let canvas = this.canvas;\r\n        canvas.toBlob((blob) => {\r\n            if(!blob) return;\r\n            saveBlobAsFile(blob, \"CG result\");\r\n        });\r\n    }\r\n    //#endregion\r\n\r\n    //#region Canvas resizing\r\n    public currentCanvasWidth = 500;\r\n    public currentCanvasHeight = 500;\r\n\r\n    public newCanvasWidth: string|number = 500;\r\n    public newCanvasHeight: string|number = 500;\r\n    public newSizeChanged = false;\r\n\r\n    @Watch('newCanvasHeight')\r\n    onNewCanvasWidthChanged() : void {\r\n        this.newSizeChanged = true;\r\n    }\r\n\r\n    @Watch('newCanvasWidth')\r\n    onNewCanvasHeightChanged() : void {\r\n        this.newSizeChanged = true;\r\n    }\r\n\r\n    resizeCanvas() : void {\r\n        console.log('resizeCanvas', {\r\n            Height: this.newCanvasHeight,\r\n            Width: this.newCanvasWidth\r\n        })\r\n\r\n        let height = typeof this.newCanvasHeight !== \"number\"\r\n            ? Number.parseInt(this.newCanvasHeight)\r\n            : this.newCanvasHeight;\r\n        let width = typeof this.newCanvasWidth !== \"number\"\r\n            ? Number.parseInt(this.newCanvasWidth)\r\n            : this.newCanvasWidth;\r\n\r\n        let canvas = document.getElementById(this.canvasId)! as HTMLCanvasElement;\r\n\r\n        this.currentCanvasHeight = canvas.height = height;\r\n        this.currentCanvasWidth = canvas.width = width;\r\n        this.newSizeChanged = false;\r\n\r\n        // Закрашиваем в белый\r\n        let context = canvas.getContext('2d')!\r\n        context.fillStyle = \"white\";\r\n        context.fillRect(0, 0, width, height);\r\n    }\r\n    //#endregion\r\n\r\n    //#region Color inversion\r\n    invertColors() : void {\r\n        // За основу взял https://www.w3schools.com/tags/canvas_getimagedata.asp\r\n        let canvas = this.canvas;\r\n        let context = canvas.getContext('2d')!;\r\n        let imageData = context.getImageData(0, 0, canvas.width, canvas.height);\r\n\r\n        for (let i = 0; i < imageData.data.length; i += 4) {\r\n            // red\r\n            imageData.data[i] = 255 - imageData.data[i];\r\n            // green\r\n            imageData.data[i + 1] = 255 - imageData.data[i + 1];\r\n            // blue\r\n            imageData.data[i + 2] = 255 - imageData.data[i + 2];\r\n            // alpha\r\n            imageData.data[i + 3] = 255;\r\n        }\r\n\r\n        context.putImageData(imageData, 0, 0);\r\n    }\r\n    //#endregion\r\n\r\n    //#region Random line drawing\r\n    drawRandomLine() : void {\r\n        const canvas = this.canvas;\r\n        const context = canvas.getContext('2d')!;\r\n        const lineCount = getRandomInt(1, 10);\r\n        let [x ,y] = getRandomIntVector(2, [0, 0], [this.currentCanvasWidth, this.currentCanvasHeight]);\r\n        context.beginPath();\r\n        context.moveTo(x, y);\r\n        for (let i = 0; i < lineCount; i++) {\r\n            [x ,y] = getRandomIntVector(2, [0, 0], [this.currentCanvasWidth, this.currentCanvasHeight]);\r\n            context.lineTo(x, y);\r\n        }\r\n        context.stroke();\r\n    }\r\n    //#endregion\r\n\r\n    mounted() : void {\r\n        console.log('mounted', {\r\n            Height: this.currentCanvasHeight,\r\n            Width: this.currentCanvasWidth,\r\n            this: this\r\n        });\r\n\r\n        let canvas = document.getElementById(this.canvasId)! as HTMLCanvasElement;\r\n        let context = canvas.getContext('2d')!;\r\n\r\n        canvas.height = this.currentCanvasHeight;\r\n        canvas.width = this.currentCanvasWidth;\r\n\r\n        let gradient = context.createRadialGradient(\r\n            this.currentCanvasWidth / 2, this.currentCanvasHeight / 2, 5,\r\n            this.currentCanvasWidth / 2, this.currentCanvasHeight / 2, 100);\r\n        gradient.addColorStop(0, \"red\");\r\n        gradient.addColorStop(1, \"white\");\r\n        context.fillStyle = gradient;\r\n        context.fillRect(0, 0, this.currentCanvasWidth, this.currentCanvasHeight);\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lab0.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lab0.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Lab0.vue?vue&type=template&id=9bd90aa8&scoped=true&\"\nimport script from \"./Lab0.vue?vue&type=script&lang=ts&\"\nexport * from \"./Lab0.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Lab0.vue?vue&type=style&index=0&id=9bd90aa8&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9bd90aa8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"h-100\",attrs:{\"fluid\":\"\"}},[_c('b-row',{staticClass:\"h-100\"},[_c('b-col',{staticClass:\"h-100 p-3\"},[_c('b-form-group',[_c('b-input-group',{attrs:{\"prepend\":\"(x, y):\",\"size\":\"sm\"}},[_c('b-form-input',{attrs:{\"type\":\"number\",\"min\":\"5\",\"step\":\"1\"},model:{value:(_vm.newCanvasHeight),callback:function ($$v) {_vm.newCanvasHeight=$$v},expression:\"newCanvasHeight\"}}),_c('b-form-input',{attrs:{\"type\":\"number\",\"min\":\"5\",\"step\":\"1\"},model:{value:(_vm.newCanvasWidth),callback:function ($$v) {_vm.newCanvasWidth=$$v},expression:\"newCanvasWidth\"}}),_c('b-input-group-append',[_c('b-input-group-text',[_vm._v(\"px\")]),_c('b-button',{attrs:{\"variant\":_vm.newSizeChanged ? 'primary' : 'secondary'},on:{\"click\":_vm.resizeCanvas}},[_vm._v(\"Обновить\")])],1)],1)],1),_c('b-form-group',[_c('b-form-file',{attrs:{\"accept\":\"image/jpeg, image/png\",\"size\":\"sm\",\"placeholder\":\"Изображение для фона не выбрано\",\"drop-placeholder\":\"Отпустите здесь\",\"browse-text\":\"Выбрать\"},model:{value:(_vm.backgroundImageFile),callback:function ($$v) {_vm.backgroundImageFile=$$v},expression:\"backgroundImageFile\"}})],1),_c('b-form-group',[_c('b-button',{attrs:{\"disabled\":!_vm.points.length,\"variant\":\"danger\",\"size\":\"sm\"},on:{\"click\":_vm.deletePoints}},[_vm._v(\" Удалить точки \")])],1),_c('b-form-group',[_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":_vm.saveImage}},[_vm._v(\"Сохранить изображение\")])],1)],1),_c('b-col',{staticClass:\"h-100 bg-secondary canvas-container\",attrs:{\"cols\":\"9\"}},[_c('canvas',{attrs:{\"id\":_vm.canvasId},on:{\"click\":_vm.addPoint}})])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default class Vector2 {\r\n    public x:number;\r\n    public y:number;\r\n\r\n    public constructor(x: number, y: number) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    public get length(): number {\r\n        return Math.sqrt(this.x * this.x + this.y * this.y);\r\n    }\r\n\r\n    //#region + - * /\r\n    add(otherVector: Vector2): Vector2 {\r\n        this.x += otherVector.x;\r\n        this.y += otherVector.y;\r\n        return this;\r\n    }\r\n\r\n    subtract(otherVector: Vector2): Vector2 {\r\n        this.x -= otherVector.x;\r\n        this.y -= otherVector.y;\r\n        return this;\r\n    }\r\n\r\n    multiply(multiplier: number): Vector2 {\r\n        this.x *= multiplier;\r\n        this.y *= multiplier;\r\n        return this;\r\n    }\r\n\r\n    divide(divider: number): Vector2 {\r\n        this.x /= divider;\r\n        this.y /= divider;\r\n        return this;\r\n    }\r\n    //#endregion\r\n\r\n    public get copy() : Vector2 {\r\n        console.log('copy vector', {\r\n            x: this.x,\r\n            y: this.y\r\n        });\r\n        return new Vector2(this.x, this.y);\r\n    }\r\n}","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport {Component, Vue, Watch} from \"vue-property-decorator\";\r\nimport {saveBlobAsFile} from \"@/Utils/Files\";\r\nimport Vector2 from \"@/Utils/Vector2\";\r\n\r\n@Component\r\nexport default class Lab1 extends Vue {\r\n    /** Id канваса. Должно быть уникальным,\r\n     *  иначе компонент будет работать не с тем элементом */\r\n    public readonly canvasId = \"lab1-canvas\";\r\n    public get canvas() : HTMLCanvasElement {\r\n        return document.getElementById(this.canvasId)! as HTMLCanvasElement;\r\n    }\r\n\r\n    //#region Фон\r\n    public backgroundImageFile: File|null = null;\r\n    public backgroundImage: HTMLImageElement|null = null;\r\n    public imageIsLoaded = false;\r\n\r\n    @Watch(\"backgroundImageFile\")\r\n    onBackgroundImageFileChanged(newFile: File|null) : void {\r\n        console.log('BackgroundImageChanged', {\r\n            Name: newFile?.name,\r\n            Size: newFile?.size\r\n        });\r\n\r\n        // Высвобождаем object URL\r\n        if(this.imageIsLoaded) {\r\n            URL.revokeObjectURL(this.backgroundImage!.src);\r\n        }\r\n\r\n        this.imageIsLoaded = false;\r\n        this.backgroundImage = null;\r\n\r\n        if(!newFile) {\r\n            this.redraw();\r\n            return;\r\n        }\r\n\r\n        let newImage = new Image;\r\n        this.backgroundImage = newImage;\r\n        newImage.src = URL.createObjectURL(newFile);\r\n        newImage.onload = () => {\r\n            console.log('image loaded', {\r\n                name: newFile!.name\r\n            })\r\n            // Если файл изображения сменился, пока грузилось это,\r\n            // то надо высвободить object URL\r\n            if(this.backgroundImage !== newImage) {\r\n                URL.revokeObjectURL(newImage.src);\r\n                return;\r\n            }\r\n\r\n            this.imageIsLoaded = true;\r\n            this.redraw()\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n    //#region Рисование\r\n    redraw(): void {\r\n        this.drawBackground();\r\n\r\n        for (const point of this.points) {\r\n            this.drawPoint(point);\r\n        }\r\n\r\n        this.drawSpline();\r\n    }\r\n\r\n    drawBackground() : void {\r\n        console.log('Draw background');\r\n\r\n        const canvas = this.canvas;\r\n        const context = canvas.getContext('2d')!;\r\n\r\n        context.fillStyle = \"white\";\r\n        context.fillRect(0, 0, this.currentCanvasWidth, this.currentCanvasHeight);\r\n\r\n        if(this.imageIsLoaded) context.drawImage(\r\n            this.backgroundImage!,\r\n            0, 0, this.backgroundImage!.width, this.backgroundImage!.height,\r\n            0, 0, canvas.width, canvas.height\r\n        );\r\n    }\r\n\r\n    drawPoint(point: Vector2) : void {\r\n        const radius = 5;\r\n        const color = 'red';\r\n\r\n        const context = this.canvas.getContext('2d')!;\r\n        context.strokeStyle = color;\r\n\r\n        context.beginPath();\r\n        context.arc(point.x, point.y, radius, 0, Math.PI*2, false);\r\n        context.closePath();\r\n        context.stroke();\r\n    }\r\n\r\n    drawSpline(): void {\r\n        if(this.points.length < 2) return;\r\n        const anchorPoints = this.calculateAnchorPoints();\r\n\r\n        const context2D = this.canvas.getContext('2d')!;\r\n        context2D.strokeStyle = 'black';\r\n        context2D.beginPath();\r\n        context2D.moveTo(this.points[0].x, this.points[0].y);\r\n        for (let i = 0; i < anchorPoints.length; i++) {\r\n            context2D.bezierCurveTo(\r\n                anchorPoints[i][0].x, anchorPoints[i][0].y,\r\n                anchorPoints[i][1].x, anchorPoints[i][1].y,\r\n                this.points[i+1].x, this.points[i+1].y\r\n            );\r\n        }\r\n        context2D.stroke();\r\n    }\r\n    //#endregion\r\n\r\n    //#region Точки сплайна\r\n    /** Точки, через которые должен проходит сплайн */\r\n    public points: Vector2[] = [];\r\n\r\n    addPoint(ev: MouseEvent) : void {\r\n        const canvas = this.canvas;\r\n        const domRect = canvas.getBoundingClientRect();\r\n        const x = ev.clientX - domRect.left;\r\n        const y = ev.clientY - domRect.top;\r\n\r\n        const point = new Vector2(x, y);\r\n        this.points.push(point);\r\n        console.log('point was added', {x, y});\r\n\r\n        this.redraw()\r\n    }\r\n\r\n    deletePoints(): void {\r\n        this.points = [];\r\n        this.redraw();\r\n    }\r\n\r\n    /** Расчитать опорные точки для построения сплайна */\r\n    calculateAnchorPoints() : [Vector2, Vector2][] {\r\n        if(this.points.length < 2) return [];\r\n        let anchorPoints = new Array<[Vector2, Vector2]>(this.points.length - 1);\r\n\r\n        let lastCenterA = this.points[1].copy\r\n            .add(this.points[0])\r\n            .divide(2);\r\n        let lastLength = this.points[1].copy\r\n            .subtract(this.points[0])\r\n            .length;\r\n        anchorPoints[0] = [\r\n            this.points[0].copy,\r\n            this.points[1].copy\r\n        ];\r\n\r\n        for (let i = 2; i < this.points.length; i++) {\r\n            const centerA = this.points[i].copy\r\n                .add(this.points[i - 1])\r\n                .divide(2);\r\n            const length = this.points[i].copy\r\n                .subtract(this.points[i-1])\r\n                .length;\r\n            const bv = centerA.copy\r\n                .subtract(lastCenterA)\r\n                .multiply(lastLength/length/2);\r\n            anchorPoints[i-2][1].subtract(bv);\r\n            anchorPoints[i-1] = [\r\n                anchorPoints[i-2][1].copy\r\n                    .add(centerA)\r\n                    .subtract(lastCenterA),\r\n                this.points[i].copy\r\n            ];\r\n            lastCenterA = centerA;\r\n            lastLength = length;\r\n        }\r\n\r\n        return anchorPoints;\r\n\r\n        /** Центры A отрезков между точками */\r\n        // const centers:Vector2[] = [];\r\n        // for (let i = 1; i < this.points.length; i++) {\r\n        //     const center = this.points[i].copy\r\n        //         .add(this.points[i - 1])\r\n        //         .divide(2);\r\n        //     centers.push(center);\r\n        // }\r\n        //\r\n        // const P: [Vector2, Vector2][] = [];\r\n        // for (let i = 2; i < this.points.length; i++) {\r\n        //     const l1 = this.points[i-1].copy\r\n        //         .subtract(this.points[i-2])\r\n        //         .length;\r\n        //     const l2 = this.points[i].copy\r\n        //         .subtract(this.points[i-1])\r\n        //         .length;\r\n        //     const b = centers[i-1].copy\r\n        //         .subtract(centers[i-2])\r\n        //         .multiply(l1/l2/2)\r\n        //         .add(centers[i-2]);\r\n        //     const v = this.points[i-1].copy\r\n        //         .subtract(b);\r\n        //     const p = [\r\n        //         centers[i-2].copy.add(v),\r\n        //         centers[i-1].copy.add(v)\r\n        //     ];\r\n        //     P.push(p);\r\n        //}\r\n    }\r\n    //#endregion\r\n\r\n    //#region Сохранение изображения\r\n    saveImage() : void {\r\n        console.log('saveImage');\r\n\r\n        let canvas = this.canvas;\r\n        canvas.toBlob((blob) => {\r\n            if(!blob) return;\r\n            saveBlobAsFile(blob, \"CG result\");\r\n        });\r\n    }\r\n    //#endregion\r\n\r\n    //#region Изменение размера\r\n    public currentCanvasWidth = 500;\r\n    public currentCanvasHeight = 500;\r\n\r\n    public newCanvasWidth: string|number = 500;\r\n    public newCanvasHeight: string|number = 500;\r\n    public newSizeChanged = false;\r\n\r\n    @Watch('newCanvasHeight')\r\n    onNewCanvasWidthChanged() : void {\r\n        this.newSizeChanged = true;\r\n    }\r\n\r\n    @Watch('newCanvasWidth')\r\n    onNewCanvasHeightChanged() : void {\r\n        this.newSizeChanged = true;\r\n    }\r\n\r\n    resizeCanvas() : void {\r\n        console.log('resizeCanvas', {\r\n            Height: this.newCanvasHeight,\r\n            Width: this.newCanvasWidth\r\n        });\r\n\r\n        const newCanvasHeight = typeof this.newCanvasHeight !== \"number\"\r\n            ? Number.parseFloat(this.newCanvasHeight)\r\n            : this.newCanvasHeight;\r\n        const newCanvasWidth = typeof this.newCanvasWidth !== \"number\"\r\n            ? Number.parseFloat(this.newCanvasWidth)\r\n            : this.newCanvasWidth;\r\n\r\n        const scaleX = newCanvasWidth / this.currentCanvasWidth;\r\n        const scaleY = newCanvasHeight / this.currentCanvasHeight;\r\n        for (const point of this.points) {\r\n            point.x *= scaleX;\r\n            point.y *= scaleY;\r\n        }\r\n\r\n        const canvas = this.canvas;\r\n\r\n        this.currentCanvasHeight = canvas.height = newCanvasHeight;\r\n        this.currentCanvasWidth = canvas.width = newCanvasWidth;\r\n        this.newSizeChanged = false;\r\n\r\n        this.redraw();\r\n    }\r\n    //#endregion\r\n\r\n    mounted() : void {\r\n        console.log('mounted', {\r\n            Height: this.currentCanvasHeight,\r\n            Width: this.currentCanvasWidth,\r\n            this: this\r\n        });\r\n\r\n        const canvas = this.canvas;\r\n        canvas.height = this.currentCanvasHeight;\r\n        canvas.width = this.currentCanvasWidth;\r\n\r\n        this.redraw();\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lab1.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lab1.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Lab1.vue?vue&type=template&id=f7042e48&scoped=true&\"\nimport script from \"./Lab1.vue?vue&type=script&lang=ts&\"\nexport * from \"./Lab1.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Lab1.vue?vue&type=style&index=0&id=f7042e48&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f7042e48\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Vue} from 'vue-property-decorator';\nimport Lab0 from \"@/components/Lab0.vue\";\nimport Lab1 from \"@/components/Lab1.vue\";\n\n@Component({\n    components: {\n        Lab1,\n        Lab0\n    }\n})\nexport default class App extends Vue {}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3a1125d3&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport BootstrapVue from \"bootstrap-vue\";\nimport \"./index.scss\"\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nVue.use(BootstrapVue);\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lab0.vue?vue&type=style&index=0&id=9bd90aa8&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lab1.vue?vue&type=style&index=0&id=f7042e48&scoped=true&lang=scss&\""],"sourceRoot":""}